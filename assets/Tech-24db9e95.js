import{B as X,V as j,M as C,b as z,u as Z,c as W,d as F,r as c,e as v,E as I,g as G,O as q,_ as J,h as K,i as Q,k as Y,j as R,C as V,a as w,l as tt,n as et,P as ot,S as rt,o as st}from"./index-e26c43e7.js";class nt extends X{constructor(f,d,h,b){super();const y=[],M=[],k=[],l=new j,O=new C;O.makeRotationFromEuler(h),O.setPosition(d);const T=new C;T.copy(O).invert(),B(),this.setAttribute("position",new z(y,3)),this.setAttribute("normal",new z(M,3)),this.setAttribute("uv",new z(k,2));function B(){let t,e=[];const r=new j,n=new j;if(f.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=f.geometry,A=s.attributes.position,x=s.attributes.normal;if(s.index!==null){const u=s.index;for(t=0;t<u.count;t++)r.fromBufferAttribute(A,u.getX(t)),n.fromBufferAttribute(x,u.getX(t)),E(e,r,n)}else for(t=0;t<A.count;t++)r.fromBufferAttribute(A,t),n.fromBufferAttribute(x,t),E(e,r,n);for(e=p(e,l.set(1,0,0)),e=p(e,l.set(-1,0,0)),e=p(e,l.set(0,1,0)),e=p(e,l.set(0,-1,0)),e=p(e,l.set(0,0,1)),e=p(e,l.set(0,0,-1)),t=0;t<e.length;t++){const u=e[t];k.push(.5+u.position.x/b.x,.5+u.position.y/b.y),u.position.applyMatrix4(O),y.push(u.position.x,u.position.y,u.position.z),M.push(u.normal.x,u.normal.y,u.normal.z)}}function E(t,e,r){e.applyMatrix4(f.matrixWorld),e.applyMatrix4(T),r.transformDirection(f.matrixWorld),t.push(new U(e.clone(),r.clone()))}function p(t,e){const r=[],n=.5*Math.abs(b.dot(e));for(let s=0;s<t.length;s+=3){let A,x,u,P=0,i,m,g,D;const _=t[s+0].position.dot(e)-n,N=t[s+1].position.dot(e)-n,$=t[s+2].position.dot(e)-n;switch(A=_>0,x=N>0,u=$>0,P=(A?1:0)+(x?1:0)+(u?1:0),P){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(A&&(i=t[s+1],m=t[s+2],g=a(t[s],i,e,n),D=a(t[s],m,e,n)),x){i=t[s],m=t[s+2],g=a(t[s+1],i,e,n),D=a(t[s+1],m,e,n),r.push(g),r.push(m.clone()),r.push(i.clone()),r.push(m.clone()),r.push(g.clone()),r.push(D);break}u&&(i=t[s],m=t[s+1],g=a(t[s+2],i,e,n),D=a(t[s+2],m,e,n)),r.push(i.clone()),r.push(m.clone()),r.push(g),r.push(D),r.push(g.clone()),r.push(m.clone());break}case 2:{A||(i=t[s].clone(),m=a(i,t[s+1],e,n),g=a(i,t[s+2],e,n),r.push(i),r.push(m),r.push(g)),x||(i=t[s+1].clone(),m=a(i,t[s+2],e,n),g=a(i,t[s],e,n),r.push(i),r.push(m),r.push(g)),u||(i=t[s+2].clone(),m=a(i,t[s],e,n),g=a(i,t[s+1],e,n),r.push(i),r.push(m),r.push(g));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,A=e.position.dot(r)-n,x=s/(s-A);return new U(new j(t.position.x+x*(e.position.x-t.position.x),t.position.y+x*(e.position.y-t.position.y),t.position.z+x*(e.position.z-t.position.z)),new j(t.normal.x+x*(e.normal.x-t.normal.x),t.normal.y+x*(e.normal.y-t.normal.y),t.normal.z+x*(e.normal.z-t.normal.z)))}}}class U{constructor(f,d){this.position=f,this.normal=d}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const H=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function L(o,f){const d=Z(b=>b.gl),h=W(F,H(o)?Object.values(o):o);if(c.useLayoutEffect(()=>{f==null||f(h)},[f]),c.useEffect(()=>{(Array.isArray(h)?h:[h]).forEach(d.initTexture)},[d,h]),H(o)){const b=Object.keys(o),y={};return b.forEach(M=>Object.assign(y,{[M]:h[b.indexOf(M)]})),y}else return h}L.preload=o=>W.preload(F,o);L.clear=o=>W.clear(F,o);function at(o){return Array.isArray(o)}function S(o=[0,0,0]){return at(o)?o:o instanceof j||o instanceof I?[o.x,o.y,o.z]:[o,o,o]}const lt=c.forwardRef(function({debug:f,depthTest:d=!1,polygonOffsetFactor:h=-10,map:b,mesh:y,children:M,position:k,rotation:l,scale:O,...T},B){const E=c.useRef(null);c.useImperativeHandle(B,()=>E.current);const p=c.useRef(null);return c.useLayoutEffect(()=>{const a=(y==null?void 0:y.current)||E.current.parent,t=E.current;if(!(a instanceof v))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new j,rotation:new I,scale:new j(1,1,1)};if(a){G(e,{position:k,scale:O});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!l||typeof l=="number"){const n=new q;n.position.copy(e.position),n.lookAt(a.position),typeof l=="number"&&n.rotateZ(l),G(e,{rotation:n.rotation})}else G(e,{rotation:l});return t.geometry=new nt(a,e.position,e.rotation,e.scale),p.current&&(G(p.current,e),p.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[y,...S(k),...S(O),...S(l)]),c.createElement("mesh",J({ref:E,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":h,"material-depthTest":d,"material-map":b},T),M,f&&c.createElement("mesh",{ref:p},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}),it=c.forwardRef(({children:o,enabled:f=!0,speed:d=1,rotationIntensity:h=1,floatIntensity:b=1,floatingRange:y=[-.1,.1],...M},k)=>{const l=c.useRef(null),O=c.useRef(Math.random()*1e4);return K(T=>{var B,E;if(!f||d===0)return;const p=O.current+T.clock.getElapsedTime();l.current.rotation.x=Math.cos(p/4*d)/8*h,l.current.rotation.y=Math.sin(p/4*d)/8*h,l.current.rotation.z=Math.sin(p/4*d)/20*h;let a=Math.sin(p/4*d)/10;a=Q.mapLinear(a,-.1,.1,(B=y==null?void 0:y[0])!==null&&B!==void 0?B:-.1,(E=y==null?void 0:y[1])!==null&&E!==void 0?E:.1),l.current.position.y=a*b,l.current.updateMatrix()}),c.createElement("group",M,c.createElement("group",{ref:Y([l,k]),matrixAutoUpdate:!1},o))}),ut=o=>{const[f]=L([o.imgUrl]);return R(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[w("ambientLight",{intensity:.25}),w("directionalLight",{position:[0,0,.05]}),R("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[w("icosahedronGeometry",{args:[1,1]}),w("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),w(lt,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:f,flatShading:!0})]})]})},ct=({icon:o})=>R(V,{frameloop:"demand",dpr:[20,60],gl:{preserveDrawingBuffer:!0},children:[R(c.Suspense,{fallback:w(tt,{}),children:[w(et,{enableZoom:!1}),w(ut,{imgUrl:o})]}),w(ot,{all:!0})]}),ft=()=>w("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:st.map(o=>w("div",{className:"w-28 h-28",title:o.name,children:w(ct,{icon:o.icon})},o.name))}),mt=rt(ft,"");export{mt as default};
